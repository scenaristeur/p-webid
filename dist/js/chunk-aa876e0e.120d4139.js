(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-aa876e0e"],{"0459":function(e,t,n){},4817:function(e,t,n){"use strict";n("0459")},f345:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"solid-chat-send container fluid"},[null!=e.webId?n("b-input-group",{staticClass:"input",attrs:{size:"lg"}},[n("b-form-input",{on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.send(t)}},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}}),n("b-input-group-append",[n("b-button",{attrs:{variant:"warning"},on:{click:e.send}},[e._v("Send")])],1)],1):n("SolidLoginButton",{staticClass:"mt-3 input"})],1)},o=[],i=(n("d3b7"),n("96cf"),n("1da1")),a=n("4d8d"),s=n("6dc1"),l=n("9b92"),c=l.namedNode,u=window.solid,d=u.auth,f=new SolidFileClient(d),p={name:"SolidChatSend",props:["url"],components:{SolidLoginButton:function(){return n.e("chunk-bb31f2b4").then(n.bind(null,"e9a1"))}},data:function(){return{message:""}},computed:{fileUrl:function(){return this.$store.state.chat.fileUrl},webId:function(){return this.$store.state.profile.profile.webId}},watch:{webId:function(e){console.log("Webid",e)},fileUrl:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,f.itemExists(e.fileUrl);case 2:if(t.sent){t.next=7;break}return t.next=5,f.postFile(e.fileUrl,"","text/turtle").then((function(e){console.log("File Created",e)})).catch((function(e){return console.error("Error: ".concat(e))}));case 5:t.next=8;break;case 7:console.log("File exist",e.fileUrl);case 8:case"end":return t.stop()}}),t)})))()}},methods:{send:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n,r,o,i,l,d,f,p,g;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=e.$store.state.profile.profile.webId,r=e.url,console.log(e.fileUrl),!(e.message.length>0&&null!=n)){t.next=27;break}return console.log(e.message),o=new Date,i="Msg"+o.getTime(),l=o.toISOString(),console.log("WEBID",e.$store.state.profile.profile.webId,e.fileUrl),d=r+"/index.ttl#this",console.log("TODO : must integrate "+d+" in tripledoc or batch ldflex"),f=e.fileUrl+"#"+i,console.log(f),t.next=15,u.data.from(e.fileUrl)[d]["http://www.w3.org/2005/01/wf/flow#message"].add(c(f));case 15:return t.next=17,Object(a["b"])(e.fileUrl);case 17:return p=t.sent,g=p.addSubject({identifier:i}),g.addLiteral(s["f"].content,e.message),g.addLiteral(s["a"].created,l),g.addNodeRef(s["b"].maker,n),t.next=24,p.save();case 24:e.message="",t.next=28;break;case 27:alert("Oh Oh, if yu wanna post yu gotta log in ;-)");case 28:case"end":return t.stop()}}),t)})))()}}},g=p,b=(n("4817"),n("2877")),w=Object(b["a"])(g,r,o,!1,null,"20ca41c4",null);t["default"]=w.exports}}]);
//# sourceMappingURL=chunk-aa876e0e.120d4139.js.map