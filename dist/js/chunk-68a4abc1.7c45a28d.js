(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68a4abc1"],{"0a4a":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[t.members.includes(t.webId)?t._e():n("div",[n("b-button",{attrs:{variant:"success"},on:{click:t.join}},[t._v("Ask to join `"+t._s(t.name)+"` group")]),n("b-button",{attrs:{variant:"success"},on:{click:t.accept}},[t._v("Accept invitation")]),n("b-button",{attrs:{variant:"success"},on:{click:t.reject}},[t._v("Reject invitation")])],1),n("b-button",{attrs:{variant:"outline-success",href:"https://scenaristeur.github.io/solid-vue-panes/groups",target:"_blank"}},[t._v("Create a Group with poPock")]),n("GroupCreate",{on:{created:t.initGroups}}),n("b-card-group",{attrs:{column:""}},[n("b-card",{staticClass:"mb-2 ",staticStyle:{"max-width":"40rem","min-width":"20rem"},attrs:{"img-src":"https://picsum.photos/600/300/?image=25","img-alt":"Image","img-top":"",tag:"article"}},[n("b-card-title",[t._v(t._s(t.name))]),n("b-card-text",[n("i",[t._v(t._s(t.purpose))])]),n("small",[t.created?n("Date",{attrs:{dateIso:t.created}}):t._e(),t.maker?n("UserName",{attrs:{webId:t.maker}}):t._e(),t._v(" "+t._s(t.types)),n("br")],1),t.members.includes(t.webId)?t._e():n("b-button",{attrs:{variant:"success"},on:{click:t.join}},[t._v("Ask to join")])],1),n("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"40rem","min-width":"20rem"},attrs:{title:"Sub Groups",tag:"article"}},[t.invitation!=t.parent?n("b-button",{staticClass:"sm",attrs:{to:"/?invitation="+t.parent,variant:"outline-success"}},[t._v("Super Group ("+t._s(t._f("localname")(t.parent))+")")]):t._e(),n("b-button",{attrs:{href:"#",variant:"outline-success"}},[t._v("Add a subgroup")]),n("b-card-text",[n("b-list-group",t._l(t.subgroups,(function(t,e){return n("b-list-group-item",{key:"g_"+e,attrs:{to:"/?invitation="+t}},[n("Item",{attrs:{item:t}})],1)})),1)],1)],1),n("b-collapse",{staticClass:"mt-2",attrs:{id:"collapse-members"}},[n("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"40rem","min-width":"20rem"},attrs:{title:"Members",tag:"article"}},[t.members.includes(t.webId)?n("div",[n("b-button",{attrs:{variant:"success"},on:{click:t.invite}},[t._v("Invite")])],1):t._e(),n("b-card-text",t._l(t.members,(function(t,e){return n("UserName",{key:e,attrs:{webId:t}})})),1)],1)],1),n("div",[n("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.collapse-members",modifiers:{"collapse-members":!0}}],attrs:{variant:"primary"}},[n("b-icon",{attrs:{icon:"people"}}),t._v(" "+t._s(t.members.length))],1),t.members.includes(t.webId)?n("Inbox",{attrs:{inbox:t.inbox}}):t._e()],1),n("Cockpit",{attrs:{url:t.invitation}}),n("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"40rem","min-width":"20rem"},attrs:{title:"Domaines",tag:"article"}},[n("b-button",{attrs:{href:"#",variant:"outline-success"}},[t._v("Add a domain")]),n("b-card-text",[n("b-list-group",t._l(t.domains,(function(e,r){return n("b-list-group-item",{key:"d_"+r,attrs:{to:"/?url"+e}},[t._v(t._s(e))])})),1)],1)],1),n("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"40rem","min-width":"20rem"},attrs:{title:"More","img-src":"https://picsum.photos/600/300/?image=25","img-alt":"Image","img-top":"",tag:"article"}},[n("b-card-text",[t._v(" Activités : []"),n("br"),t._v(" Projets: []"),n("br"),t._v(" Competences Skills: []"),n("br"),t._v(" Redevabilités: [] ")])],1)],1),t._v(" Invitation : "+t._s(this.invitation)+" "),n("hr"),t._v(" "+t._s(t.things)+" "),n("hr"),n("a",{attrs:{href:t.webId,target:"_blank"}},[t._v(t._s(t.webId))])],1)},a=[],s=(n("b0c0"),n("d3b7"),n("96cf"),n("1da1")),i=n("4360"),o=n("93ef"),c=n("d11f"),u=n("4585"),l={store:i["a"],name:"InvitationView",props:["invitation"],mixins:[u["a"]],components:{UserName:function(){return n.e("chunk-2d21ee7d").then(n.bind(null,"d80c"))},Date:function(){return n.e("chunk-2d228c54").then(n.bind(null,"db33"))},GroupCreate:function(){return n.e("chunk-2d0b2e88").then(n.bind(null,"25b1"))},Inbox:function(){return n.e("chunk-b4bd08ca").then(n.bind(null,"85fc"))},Item:function(){return n.e("chunk-2d21de10").then(n.bind(null,"d2d0"))},Cockpit:function(){return n.e("chunk-748f4d22").then(n.bind(null,"f3b0"))}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$store.state.profile,t.webId=t.$store.state.profile.profile.webId,t.updateInvitation();case 3:case"end":return e.stop()}}),e)})))()},data:function(){return{things:void 0,name:void 0,purpose:void 0,subgroups:void 0,domains:[],members:[],inbox:void 0,parent:void 0,created:void 0,maker:void 0,types:void 0}},methods:{updateInvitation:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["a"])(t.invitation);case 2:n=e.sent,t.things=Object(o["c"])(n,t.invitation),t.thing=t.things[0],t.name=Object(o["b"])(t.thing,c["e"].fn),t.types=Object(o["d"])(t.thing,c["c"].type),t.purpose=Object(o["b"])(t.thing,"http://www.w3.org/ns/org#purpose"),t.subgroups=Object(o["e"])(t.thing,"http://www.w3.org/ns/org#hasSubOrganization"),t.members=Object(o["e"])(t.thing,c["e"].hasMember),t.inbox=Object(o["d"])(t.thing,"http://www.w3.org/ns/ldp#inbox"),t.parent=Object(o["d"])(t.thing,"http://www.w3.org/ns/org#subOrganizationOf"),t.created=Object(o["b"])(t.thing,c["a"].created),t.maker=Object(o["d"])(t.thing,c["b"].maker);case 14:case"end":return e.stop()}}),e)})))()},getName:function(t){return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r,a,s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["a"])(t);case 2:return n=e.sent,r=Object(o["c"])(n),a=r[0],s=Object(o["b"])(a,c["e"].fn),i={url:t,name:s},console.log(i),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})))()},initGroups:function(){var t=arguments,e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t.length>0&&void 0!==t[0]?t[0]:e.url,console.log(r),!(null!=e.storage&&e.storage.length>0)){n.next=8;break}return console.log("init groups : ",r),n.next=6,fc.readFolder(r);case 6:e.folder=n.sent,console.log("Folder : ",e.folder);case 8:case"end":return n.stop()}}),n)})))()}},watch:{$route:function(t,e){this.updateInvitation()},webId:function(){console.log("watch webid",this.webId),this.workspace={},this.workspace.pod=this.webId,this.workspace.name="gouvernance",this.workspace.path=this.$store.state.profile.profile.storage+"public/gouvernace/",console.log("WORKSPACE",this.workspace),this.$store.commit("workspaces/setCurrentWorkspace",this.workspace)}},computed:{webId:{get:function(){return this.$store.state.profile.profile.webId},set:function(){}}}},b=l,d=n("2877"),m=Object(d["a"])(b,r,a,!1,null,null,null);e["default"]=m.exports},4585:function(t,e,n){"use strict";n("99af"),n("a15b"),n("baa5"),n("b0c0"),n("ac1f"),n("8a79"),n("5319"),n("498a"),n("96cf");var r=n("1da1"),a=n("4d8d"),s=n("6dc1"),i={methods:{makeToast:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.$bvToast.toast(e,{title:t,variant:n,solid:!0})}}},o=n("93ef"),c=n("9b92"),u=solid.auth,l=new SolidFileClient(u);e["a"]={mixins:[i],methods:{getGroup:function(t){return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,r,i,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={members:[],subgroups:[]},e.next=3,Object(a["b"])(t);case 3:return r=e.sent,i=r.findSubject(),n.name=i.getLiteral(s["f"].fn),n.members=i.getAllRefs(s["f"].hasMember),n.purpose=i.getLiteral("http://www.w3.org/ns/org#purpose"),n.parent=i.getRef("http://www.w3.org/ns/org#subOrganizationOf"),n.subgroups=i.getAllRefs("http://www.w3.org/ns/org#hasSubOrganization"),o=r.findSubject("http://www.w3.org/ns/solid/terms#forClass","http://www.w3.org/ns/pim/meeting#LongChat"),null!=o&&(n.chat_instance=o.getRef("http://www.w3.org/ns/solid/terms#instance"),console.log("chat instance",n.chat_instance)),e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})))()},getStorage:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n,r,a,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.url.endsWith("#this")?e.url:e.url+"#this",t.next=3,solid.data[n].storage;case 3:if(r=t.sent,console.log(r),void 0!=r){t.next=24;break}return a=e.url.substring(0,e.url.lastIndexOf("/")),t.next=9,solid.data[n].vcard$fn;case 9:return s=t.sent,i="".concat(s).trim().replace(/\s/g,"_"),console.log("".concat(s),e.url,i),r=[a,i,""].join("/"),console.log(r),t.next=16,!l.itemExists(e.storage);case 16:if(!t.sent){t.next=21;break}return t.next=19,l.createFolder(e.storage);case 19:t.next=22;break;case 21:case 22:return t.next=24,solid.data[n]["http://www.w3.org/ns/pim/space#storage"].set(Object(c["namedNode"])(r));case 24:return t.abrupt("return",r);case 25:case"end":return t.stop()}}),t)})))()},join:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("join to create inbox folder with authenticated agent as submitter"),n="@prefix :      <#> .\n      @prefix as:    <https://www.w3.org/ns/activitystreams#> .\n\n      :it\n      a as:Offer ;\n      as:actor <".concat(t.webId,'> ;\n      as:object :join ;\n      as:summary "').concat(t.webId,' asks to join the group" ;\n      as:target <').concat(t.invitation,"> .\n\n      :join\n      a as:Join ;\n      as:actor <").concat(t.webId,"> ;\n      as:object <").concat(t.invitation,'> ;\n      as:summary "').concat(t.webId,' joins group" .\n      '),e.prev=2,e.next=5,Object(o["f"])(t.inbox,new Blob([n],{type:"text/turtle"}));case 5:e.sent,t.makeToast("Join request sent","A request has been sent to group Inbox","success"),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),t.makeToast("Join request","Can not send a request to the Group Inbox"+e.t0,"danger");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))()},accept:function(){console.log("todo accept"),this.makeToast("Todo","not implemented yet")},invite:function(){console.log("todo invite"),this.makeToast("Todo","not implemented yet")},reject:function(){console.log("todo reject"),this.makeToast("Todo","not implemented yet")}}}},"99af":function(t,e,n){"use strict";var r=n("23e7"),a=n("d039"),s=n("e8b5"),i=n("861d"),o=n("7b0b"),c=n("50c4"),u=n("8418"),l=n("65f0"),b=n("1dde"),d=n("b622"),m=n("2d00"),p=d("isConcatSpreadable"),g=9007199254740991,h="Maximum allowed index exceeded",w=m>=51||!a((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),f=b("concat"),v=function(t){if(!i(t))return!1;var e=t[p];return void 0!==e?!!e:s(t)},k=!w||!f;r({target:"Array",proto:!0,forced:k},{concat:function(t){var e,n,r,a,s,i=o(this),b=l(i,0),d=0;for(e=-1,r=arguments.length;e<r;e++)if(s=-1===e?i:arguments[e],v(s)){if(a=c(s.length),d+a>g)throw TypeError(h);for(n=0;n<a;n++,d++)n in s&&u(b,d,s[n])}else{if(d>=g)throw TypeError(h);u(b,d++,s)}return b.length=d,b}})},a15b:function(t,e,n){"use strict";var r=n("23e7"),a=n("44ad"),s=n("fc6a"),i=n("a640"),o=[].join,c=a!=Object,u=i("join",",");r({target:"Array",proto:!0,forced:c||!u},{join:function(t){return o.call(s(this),void 0===t?",":t)}})}}]);
//# sourceMappingURL=chunk-68a4abc1.7c45a28d.js.map