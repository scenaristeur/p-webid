(window["popock_jsonp"]=window["popock_jsonp"]||[]).push([[4],{4360:function(e,t,n){"use strict";var o=n("8bbf"),a=n.n(o),s=n("2f62"),r=(n("96cf"),n("1da1"));a.a.use(s["a"]);var i=solid.auth,c=new SolidFileClient(i),l={folder:{},file:null,content:null},u={setFolder:function(e,t){e.folder=t},setFile:function(e,t){e.file=t},setContent:function(e,t){e.content=t}},d={updateFolder:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,c.readFolder(t);case 2:o=n.sent,console.log(o),e.commit("setFolder",o);case 5:case"end":return n.stop()}}),n)})))()},updateFile:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log("FILE",t),e.commit("setFile",t),n.t0=e,n.next=5,c.readFile(t.url);case 5:n.t1=n.sent,n.t0.commit.call(n.t0,"setContent",n.t1);case 7:case"end":return n.stop()}}),n)})))()}},p={namespaced:!0,state:l,actions:d,mutations:u};n("b0c0"),n("d3b7"),n("ddb0");a.a.use(s["a"]);var f=solid.auth,m=(new SolidFileClient(f),{profile:{webId:null,types:null}}),w={setProfile:function(e,t){console.log("mut",t),e.profile=t}},b={setWebId:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function n(){var o,a,s,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(console.log("action",t),o={},o.webId=t,null==t){n.next=16;break}return n.next=6,solid.data[t].storage;case 6:return a=n.sent,n.next=9,solid.data[t].name;case 9:return s=n.sent,n.next=12,solid.data[t].type.values;case 12:r=n.sent,o.storage="".concat(a),o.name="".concat(s),o.types="".concat(r);case 16:e.commit("setProfile",o);case 17:case"end":return n.stop()}}),n)})))()}},g={namespaced:!0,state:m,actions:b,mutations:w};a.a.use(s["a"]);t["a"]=new s["a"].Store({state:{},mutations:{},actions:{},modules:{storage:p,profile:g}})},f2ee:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[null==e.webId?n("b-button",{attrs:{variant:"success"},on:{click:e.login}},[e._v("Login")]):n("b-button",{attrs:{variant:"danger"},on:{click:e.logout}},[e._v("Logout")])],1)},a=[],s=n("4360");const r=solid.auth,i="https://solidcommunity.net/common/popup.html";var c={store:s["a"],name:"Login",created(){this.webId=this.$store.state.profile.profile.webId,solid.auth.trackSession(e=>{this.webId=e?e.webId:null})},methods:{async login(){let e=await r.currentSession();e||(e=await r.popupLogin({popupUri:i})),console.log(`Logged in as ${e.webId}.`)},logout(){r.logout()}},watch:{webId(){console.log("watch webid",this.webId)}},computed:{webId:{get:function(){return this.$store.state.profile.profile.webId},set:function(e){this.$store.dispatch("profile/setWebId",e)}}}},l=c,u=n("2877"),d=Object(u["a"])(l,o,a,!1,null,null,null,!0);t["default"]=d.exports}}]);
//# sourceMappingURL=popock.4.min.js.map