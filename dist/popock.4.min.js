(window["popock_jsonp"]=window["popock_jsonp"]||[]).push([[4],{4360:function(t,e,o){"use strict";var s=o("8bbf"),a=o.n(s),l=o("2f62");a.a.use(l["a"]);const n=solid.auth,i=new SolidFileClient(n),c={folder:{},file:null,content:null},d={setFolder(t,e){t.folder=e},setFile(t,e){t.file=e},setContent(t,e){t.content=e}},r={async updateFolder(t,e){let o=await i.readFolder(e);console.log(o),t.commit("setFolder",o)},async updateFile(t,e){console.log("FILE",e),t.commit("setFile",e),t.commit("setContent",await i.readFile(e.url))}};var u={namespaced:!0,state:c,actions:r,mutations:d};o("ddb0");a.a.use(l["a"]);const p=solid.auth,w=(new SolidFileClient(p),{profile:{webId:null,types:null}}),m={setProfile(t,e){console.log("mut",e),t.profile=e}},f={async setWebId(t,e){console.log("action",e);let o={};if(o.webId=e,null!=e){let t=await solid.data[e].storage,s=await solid.data[e].name,a=await solid.data[e].type.values;o.storage=""+t,o.name=""+s,o.types=""+a}t.commit("setProfile",o)}};var b={namespaced:!0,state:w,actions:f,mutations:m};a.a.use(l["a"]);e["a"]=new l["a"].Store({state:{},mutations:{},actions:{},modules:{storage:u,profile:b}})},f2ee:function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login"},[null==t.webId?o("b-button",{attrs:{variant:"success"},on:{click:t.login}},[t._v("Login")]):o("b-button",{attrs:{variant:"danger"},on:{click:t.logout}},[t._v("Logout")])],1)},a=[],l=o("4360");const n=solid.auth,i="https://solidcommunity.net/common/popup.html";var c={store:l["a"],name:"Login",created(){this.webId=this.$store.state.profile.profile.webId,solid.auth.trackSession(t=>{this.webId=t?t.webId:null})},methods:{async login(){let t=await n.currentSession();t||(t=await n.popupLogin({popupUri:i})),console.log(`Logged in as ${t.webId}.`)},logout(){n.logout()}},watch:{webId(){console.log("watch webid",this.webId)}},computed:{webId:{get:function(){return this.$store.state.profile.profile.webId},set:function(t){this.$store.dispatch("profile/setWebId",t)}}}},d=c,r=o("2877"),u=Object(r["a"])(d,s,a,!1,null,null,null,!0);e["default"]=u.exports}}]);
//# sourceMappingURL=popock.4.min.js.map