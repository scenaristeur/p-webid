(window["popock_jsonp"]=window["popock_jsonp"]||[]).push([[3],{4360:function(t,e,o){"use strict";var s=o("8bbf"),l=o.n(s),n=o("2f62");l.a.use(n["a"]);const a=solid.auth,i=(new SolidFileClient(a),{webId:null}),c={setWebId(t,e){console.log("mut",e),t.webId=e}},d={async setWebId(t,e){console.log("action",e),t.commit("setWebId",e);let o=null;null!=e?(o=await solid.data[e].storage,t.commit("storage/setStorage",""+o,{root:!0})):t.commit("storage/setStorage",null,{root:!0})}};var u={namespaced:!0,state:i,actions:d,mutations:c};l.a.use(n["a"]);const r=solid.auth,m=new SolidFileClient(r),g={webId:null,storage:null,folder:{},file:null,content:null},w={setWebId(t,e){console.log("mut",e),t.webId=e},setStorage(t,e){console.log("mut",e),t.storage=e},setFolder(t,e){t.folder=e},setFile(t,e){t.file=e},setContent(t,e){t.content=e}},b={async setWebId(t,e){console.log("action",e),t.commit("setWebId",e);let o=null;null!=e?(o=await solid.data[e].storage,t.commit("setStorage",""+o)):t.commit("setStorage",null)},async updateFolder(t,e){let o=await m.readFolder(e);console.log(o),t.commit("setFolder",o)},async updateFile(t,e){console.log("FILE",e),t.commit("setFile",e),t.commit("setContent",await m.readFile(e.url))}};var p={namespaced:!0,state:g,actions:b,mutations:w};l.a.use(n["a"]);e["a"]=new n["a"].Store({state:{},mutations:{},actions:{},modules:{solid:u,storage:p}})},f2ee:function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login"},[null==t.webId?o("b-button",{attrs:{variant:"success"},on:{click:t.login}},[t._v("Login")]):o("b-button",{attrs:{variant:"danger"},on:{click:t.logout}},[t._v("Logout")])],1)},l=[],n=o("4360");const a=solid.auth,i="https://solidcommunity.net/common/popup.html";var c={store:n["a"],name:"Login",created(){this.webId=this.$store.state.webId,solid.auth.trackSession(t=>{this.webId=t?t.webId:null})},methods:{async login(){let t=await a.currentSession();t||(t=await a.popupLogin({popupUri:i})),console.log(`Logged in as ${t.webId}.`)},logout(){a.logout()}},watch:{webId(){console.log("watch webid",this.webId)}},computed:{webId:{get:function(){return this.$store.state.solid.webId},set:function(t){this.$store.dispatch("solid/setWebId",t)}}}},d=c,u=o("2877"),r=Object(u["a"])(d,s,l,!1,null,null,null,!0);e["default"]=r.exports}}]);
//# sourceMappingURL=popock.3.min.js.map