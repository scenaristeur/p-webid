{"version":3,"sources":["webpack:///./src/views/InvitationView.vue?9265","webpack:///src/views/InvitationView.vue","webpack:///./src/views/InvitationView.vue?39c0","webpack:///./src/views/InvitationView.vue","webpack:///./src/mixins/AffichageMixin.js","webpack:///./src/mixins/GroupMixin.js","webpack:///./node_modules/core-js/modules/es.array.concat.js","webpack:///./node_modules/core-js/modules/es.array.join.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","members","includes","webId","_e","attrs","on","join","_v","_s","name","accept","reject","initGroups","staticStyle","purpose","created","maker","types","invitation","parent","_f","_l","g","i","key","invite","m","j","directives","rawName","modifiers","length","inbox","d","things","staticRenderFns","component","methods","makeToast","title","content","variant","$bvToast","toast","solid","auth","fc","SolidFileClient","mixins","AffichageMixin","getGroup","url","group","subgroups","fetchDocument","groupDoc","index","findSubject","getLiteral","vcard","fn","getAllRefs","hasMember","getRef","chat_index","chat_instance","console","log","getStorage","res","endsWith","data","storage","undefined","path","substring","lastIndexOf","vcard$fn","ttl_name","trim","replace","itemExists","createFolder","set","namedNode","offer","saveFileInContainer","Blob","type","$","fails","isArray","isObject","toObject","toLength","createProperty","arraySpeciesCreate","arrayMethodHasSpeciesSupport","wellKnownSymbol","V8_VERSION","IS_CONCAT_SPREADABLE","MAX_SAFE_INTEGER","MAXIMUM_ALLOWED_INDEX_EXCEEDED","IS_CONCAT_SPREADABLE_SUPPORT","array","concat","SPECIES_SUPPORT","isConcatSpreadable","O","spreadable","FORCED","target","proto","forced","arg","k","len","E","A","n","arguments","TypeError","IndexedObject","toIndexedObject","arrayMethodIsStrict","nativeJoin","ES3_STRINGS","Object","STRICT_METHOD","separator","call"],"mappings":"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","file":"js/chunk-68a4abc1.7404b8b0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[(!_vm.members.includes(_vm.webId))?_c('div',[_c('b-button',{attrs:{\"variant\":\"outline-success\"},on:{\"click\":_vm.join}},[_vm._v(\"Ask to join `\"+_vm._s(_vm.name)+\"` group\")]),_c('b-button',{attrs:{\"variant\":\"outline-success\"},on:{\"click\":_vm.accept}},[_vm._v(\"Accept invitation\")]),_c('b-button',{attrs:{\"variant\":\"outline-success\"},on:{\"click\":_vm.reject}},[_vm._v(\"Reject invitation\")])],1):_vm._e(),_c('b-button',{attrs:{\"variant\":\"outline-success\",\"href\":\"https://scenaristeur.github.io/solid-vue-panes/groups\",\"target\":\"_blank\"}},[_vm._v(\"Create a Group with poPock\")]),_c('GroupCreate',{on:{\"created\":_vm.initGroups}}),_c('b-card-group',{attrs:{\"column\":\"\"}},[_c('b-card',{staticClass:\"mb-2 \",staticStyle:{\"max-width\":\"40rem\",\"min-width\":\"20rem\"},attrs:{\"img-src\":\"https://picsum.photos/600/300/?image=25\",\"img-alt\":\"Image\",\"img-top\":\"\",\"tag\":\"article\"}},[_c('b-card-title',[_vm._v(_vm._s(_vm.name))]),_c('b-card-text',[_c('i',[_vm._v(_vm._s(_vm.purpose))])]),_c('small',[(_vm.created)?_c('Date',{attrs:{\"dateIso\":_vm.created}}):_vm._e(),(_vm.maker)?_c('UserName',{attrs:{\"webId\":_vm.maker}}):_vm._e(),_vm._v(\" \"+_vm._s(_vm.types)),_c('br')],1),(!_vm.members.includes(_vm.webId))?_c('b-button',{attrs:{\"variant\":\"success\"},on:{\"click\":_vm.join}},[_vm._v(\"Ask to join\")]):_vm._e()],1),_c('b-card',{staticClass:\"mb-2\",staticStyle:{\"max-width\":\"40rem\",\"min-width\":\"20rem\"},attrs:{\"title\":\"Sub Groups\",\"tag\":\"article\"}},[(_vm.invitation != _vm.parent)?_c('b-button',{staticClass:\"sm\",attrs:{\"to\":'/?invitation='+_vm.parent,\"variant\":\"outline-success\"}},[_vm._v(\"Super Group (\"+_vm._s(_vm._f(\"localname\")(_vm.parent))+\")\")]):_vm._e(),_c('b-button',{attrs:{\"href\":\"#\",\"variant\":\"outline-success\"}},[_vm._v(\"Add a subgroup\")]),_c('b-card-text',[_c('b-list-group',_vm._l((_vm.subgroups),function(g,i){return _c('b-list-group-item',{key:'g_'+i,attrs:{\"to\":'/?invitation='+g}},[_c('Item',{attrs:{\"item\":g}})],1)}),1)],1)],1),_c('b-collapse',{staticClass:\"mt-2\",attrs:{\"id\":\"collapse-members\"}},[_c('b-card',{staticClass:\"mb-2\",staticStyle:{\"max-width\":\"40rem\",\"min-width\":\"20rem\"},attrs:{\"title\":\"Members\",\"tag\":\"article\"}},[(_vm.members.includes(_vm.webId))?_c('div',[_c('b-button',{attrs:{\"variant\":\"success\"},on:{\"click\":_vm.invite}},[_vm._v(\"Invite\")])],1):_vm._e(),_c('b-card-text',_vm._l((_vm.members),function(m,j){return _c('UserName',{key:j,attrs:{\"webId\":m}})}),1)],1)],1),_c('div',[_c('b-button',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle.collapse-members\",modifiers:{\"collapse-members\":true}}],attrs:{\"variant\":\"primary\"}},[_c('b-icon',{attrs:{\"icon\":\"people\"}}),_vm._v(\" \"+_vm._s(_vm.members.length))],1),(_vm.members.includes(_vm.webId))?_c('Inbox',{attrs:{\"inbox\":_vm.inbox}}):_vm._e()],1),_c('Cockpit',{attrs:{\"url\":_vm.invitation}}),_c('b-card',{staticClass:\"mb-2\",staticStyle:{\"max-width\":\"40rem\",\"min-width\":\"20rem\"},attrs:{\"title\":\"Domaines\",\"tag\":\"article\"}},[_c('b-button',{attrs:{\"href\":\"#\",\"variant\":\"outline-success\"}},[_vm._v(\"Add a domain\")]),_c('b-card-text',[_c('b-list-group',_vm._l((_vm.domains),function(d,i){return _c('b-list-group-item',{key:'d_'+i,attrs:{\"to\":'/?url'+d}},[_vm._v(_vm._s(d))])}),1)],1)],1),_c('b-card',{staticClass:\"mb-2\",staticStyle:{\"max-width\":\"40rem\",\"min-width\":\"20rem\"},attrs:{\"title\":\"More\",\"img-src\":\"https://picsum.photos/600/300/?image=25\",\"img-alt\":\"Image\",\"img-top\":\"\",\"tag\":\"article\"}},[_c('b-card-text',[_vm._v(\" Activités : []\"),_c('br'),_vm._v(\" Projets: []\"),_c('br'),_vm._v(\" Competences Skills: []\"),_c('br'),_vm._v(\" Redevabilités: [] \")])],1)],1),_vm._v(\" Invitation : \"+_vm._s(this.invitation)+\" \"),_c('hr'),_vm._v(\" \"+_vm._s(_vm.things)+\" \"),_c('hr'),_c('a',{attrs:{\"href\":_vm.webId,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.webId))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"container\">\r\n    <div v-if=\"!members.includes(webId)\">\r\n      <b-button variant=\"outline-success\"  @click=\"join\">Ask to join `{{ name }}` group</b-button>\r\n      <b-button variant=\"outline-success\"  @click=\"accept\">Accept invitation</b-button>\r\n      <b-button variant=\"outline-success\"  @click=\"reject\">Reject invitation</b-button>\r\n    </div>\r\n\r\n    <!-- <b-button variant=\"outline-success\" @click=\"newGroup\" disabled>Create a Group</b-button> -->\r\n  <b-button variant=\"outline-success\" href=\"https://scenaristeur.github.io/solid-vue-panes/groups\" target=\"_blank\" >Create a Group with poPock</b-button>\r\n\r\n\r\n    <!-- <div v-if=\"webId != null\">\r\n    <GroupsToolbar :path=\"invitation\"/>\r\n    <GroupCreate v-on:created=\"initGroups\" />\r\n  </div>\r\n\r\n  <div v-else>\r\n  <SolidLoginButton />\r\n</div> -->\r\n<!-- <GroupsToolbar :path=\"invitation\"/> -->\r\n<GroupCreate v-on:created=\"initGroups\" />\r\n\r\n<b-card-group column>\r\n  <b-card\r\n  img-src=\"https://picsum.photos/600/300/?image=25\"\r\n  img-alt=\"Image\"\r\n  img-top\r\n  tag=\"article\"\r\n  style=\"max-width: 40rem;min-width: 20rem;\"\r\n  class=\"mb-2 \">\r\n  <b-card-title>{{ name }}</b-card-title>\r\n  <!-- <InboxWidget v-if=\"members != undefined && members.includes(webId)\" :inbox=\"inbox\" /> -->\r\n\r\n\r\n\r\n  <b-card-text>\r\n    <i>{{ purpose }}</i>\r\n  </b-card-text>\r\n  <small>\r\n    <Date v-if=\"created\" :dateIso=\"created\"/>\r\n    <UserName v-if=\"maker\" :webId=\"maker\" />\r\n    {{ types }}<br>\r\n  </small>\r\n  <b-button  v-if=\"!members.includes(webId)\" variant=\"success\" @click=\"join\">Ask to join</b-button>\r\n\r\n\r\n  <!-- <b-button href=\"#\" variant=\"primary\">Go somewhere</b-button> -->\r\n</b-card>\r\n\r\n\r\n\r\n<b-card\r\ntitle=\"Sub Groups\"\r\ntag=\"article\"\r\nstyle=\"max-width: 40rem;min-width: 20rem;\"\r\nclass=\"mb-2\">\r\n<b-button v-if=\"invitation != parent\" :to=\"'/?invitation='+parent\" class=\"sm\" variant=\"outline-success\">Super Group ({{parent | localname}})</b-button>\r\n<b-button href=\"#\" variant=\"outline-success\">Add a subgroup</b-button>\r\n<b-card-text>\r\n  <b-list-group>\r\n    <b-list-group-item v-for=\"(g, i) in subgroups\" :key=\"'g_'+i\" :to=\"'/?invitation='+g\">\r\n\r\n      <Item :item=\"g\" />\r\n    </b-list-group-item>\r\n  </b-list-group>\r\n</b-card-text>\r\n\r\n</b-card>\r\n\r\n<b-collapse id=\"collapse-members\" class=\"mt-2\">\r\n  <!-- <b-card> -->\r\n  <b-card   title=\"Members\"\r\n  tag=\"article\"\r\n  style=\"max-width: 40rem;min-width: 20rem;\"\r\n  class=\"mb-2\"\r\n  >\r\n  <div v-if=\"members.includes(webId)\">\r\n    <b-button variant=\"success\"  @click=\"invite\">Invite</b-button>\r\n  </div>\r\n  <b-card-text>\r\n    <UserName v-for=\"(m, j) in members\" :key=\"j\" :webId=\"m\" />\r\n  </b-card-text>\r\n  <!-- <b-button href=\"#\" variant=\"primary\">Go somewhere</b-button> -->\r\n</b-card>\r\n<!-- <p class=\"card-text\">Collapse contents Here</p>\r\n<b-button v-b-toggle.collapse-1-inner size=\"sm\">Toggle Inner Collapse</b-button>\r\n<b-collapse id=\"collapse-1-inner\" class=\"mt-2\">\r\n<b-card>Hello!</b-card>\r\n</b-collapse> -->\r\n<!-- </b-card> -->\r\n</b-collapse>\r\n\r\n\r\n<div>\r\n  <b-button v-b-toggle.collapse-members variant=\"primary\"><b-icon icon=\"people\"></b-icon> {{ members.length}}</b-button>\r\n  <Inbox v-if=\"members.includes(webId)\" :inbox=\"inbox\" />\r\n\r\n</div>\r\n\r\n\r\n<Cockpit :url=\"invitation\"/>\r\n\r\n\r\n<b-card\r\ntitle=\"Domaines\"\r\ntag=\"article\"\r\nstyle=\"max-width: 40rem;min-width: 20rem;\"\r\nclass=\"mb-2\">\r\n<b-button href=\"#\" variant=\"outline-success\">Add a domain</b-button>\r\n<b-card-text>\r\n  <b-list-group>\r\n    <b-list-group-item v-for=\"(d, i) in domains\" :key=\"'d_'+i\" :to=\"'/?url'+d\">{{ d }}</b-list-group-item>\r\n  </b-list-group>\r\n</b-card-text>\r\n\r\n</b-card>\r\n\r\n<b-card\r\ntitle=\"More\"\r\nimg-src=\"https://picsum.photos/600/300/?image=25\"\r\nimg-alt=\"Image\"\r\nimg-top\r\ntag=\"article\"\r\nstyle=\"max-width: 40rem;min-width: 20rem;\"\r\nclass=\"mb-2\">\r\n<b-card-text>\r\n  Activités : []<br>\r\n  Projets: []<br>\r\n  Competences Skills: []<br>\r\n  Redevabilités: []\r\n</b-card-text>\r\n<!-- <b-button href=\"#\" variant=\"primary\">Go somewhere</b-button> -->\r\n</b-card>\r\n\r\n</b-card-group>\r\n\r\nInvitation : {{ this.invitation }}\r\n<hr>\r\n{{ things }}\r\n<hr>\r\n\r\n\r\n<a v-bind:href=\"webId\" target=\"_blank\">{{ webId }}</a>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport store from '@/store'\r\nimport { getSolidDataset,\r\n  //saveSolidDatasetAt,\r\n  getThingAll,\r\n  getThing,\r\n  getStringNoLocale,\r\n  getUrlAll,\r\n  getUrl } from \"@inrupt/solid-client\";\r\n\r\n  import { FOAF, VCARD, DCTERMS, RDF } from \"@inrupt/vocab-common-rdf\";\r\n  import GroupMixin from '@/mixins/GroupMixin.js'\r\n\r\n  export default {\r\n    store,\r\n    name: 'InvitationView',\r\n    props: ['invitation'],\r\n    mixins: [GroupMixin],\r\n    components:{\r\n      'UserName': () => import('@/components/basic/UserName'),\r\n      'Date': () => import('@/components/basic/Date'),\r\n      //  'GroupsToolbar': () => import('@/components/groups/GroupsToolbar'),\r\n      'GroupCreate': () => import('@/components/groups/GroupCreate'),\r\n      //  'InboxWidget': () => import('@/components/inbox/InboxWidget'),\r\n      'Inbox': () => import('@/components/inbox/Inbox'),\r\n      'Item': () => import('@/components/basic/Item'),\r\n      'Cockpit': () => import('@/components/gouvernance/Cockpit.vue'),\r\n    },\r\n    async created(){\r\n      this.$store.state.profile\r\n      this.webId = this.$store.state.profile.profile.webId\r\n      this.updateInvitation()\r\n    },\r\n    data: function(){\r\n      return {\r\n        things: undefined,\r\n        name: undefined,\r\n        purpose: undefined,\r\n        subgroups: undefined,\r\n        domains: [],\r\n        members: [],\r\n        inbox: undefined,\r\n        parent: undefined,\r\n        created: undefined,\r\n        maker: undefined,\r\n        types: undefined\r\n      }\r\n    },\r\n    methods: {\r\n      // newGroup(){\r\n      //   this.$bvModal.show(\"new-group-modal\")\r\n      // },\r\n      async updateInvitation(){\r\n        const dataset = await getSolidDataset(this.invitation);\r\n        this.things = getThingAll(dataset, this.invitation);\r\n        this.thing = this.things[0]\r\n        this.name = getStringNoLocale(this.thing, VCARD.fn);\r\n        this.types = getUrl(this.thing, RDF.type);\r\n        this.purpose = getStringNoLocale(this.thing, 'http://www.w3.org/ns/org#purpose');\r\n        this.subgroups = getUrlAll(this.thing, 'http://www.w3.org/ns/org#hasSubOrganization');\r\n        this.members = getUrlAll(this.thing, VCARD.hasMember);\r\n        this.inbox = getUrl(this.thing, 'http://www.w3.org/ns/ldp#inbox');\r\n        this.parent = getUrl(this.thing, 'http://www.w3.org/ns/org#subOrganizationOf');\r\n        this.created = getStringNoLocale(this.thing, DCTERMS.created);\r\n        this.maker = getUrl(this.thing, FOAF.maker);\r\n\r\n      },\r\n      async getName(s){\r\n        const s_dataset = await getSolidDataset(s);\r\n        let things = getThingAll(s_dataset, );\r\n        let thing = things[0]\r\n        let name = getStringNoLocale(thing, VCARD.fn);\r\n        let sg = {url:s, name: name}\r\n        console.log(sg)\r\n        return sg\r\n      },\r\n      async  initGroups(url = this.url){\r\n        console.log(url)\r\n        if (this.storage != null && this.storage.length > 0){\r\n          console.log(\"init groups : \",url)\r\n          this.folder = await fc.readFolder(url)\r\n          console.log(\"Folder : \", this.folder)\r\n        }\r\n      },\r\n    },\r\n    watch:{\r\n      $route(to, from) {\r\n        this.updateInvitation()\r\n      },\r\n      webId(){\r\n        console.log(\"watch webid\", this.webId)\r\n        this.workspace = {}\r\n        this.workspace.pod = this.webId\r\n        this.workspace.name = 'gouvernance'\r\n        this.workspace.path = this.$store.state.profile.profile.storage+\"public/gouvernace/\"\r\n        console.log(\"WORKSPACE\", this.workspace)\r\n        this.$store.commit('workspaces/setCurrentWorkspace', this.workspace)\r\n      }\r\n    },\r\n    computed:{\r\n      webId:{\r\n        get: function() { return this.$store.state.profile.profile.webId},\r\n        set: function() {}\r\n      },\r\n    }\r\n  }\r\n  </script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InvitationView.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InvitationView.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InvitationView.vue?vue&type=template&id=3f718fd2&\"\nimport script from \"./InvitationView.vue?vue&type=script&lang=js&\"\nexport * from \"./InvitationView.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\r\n  methods: {\r\n    makeToast(title, content,variant = null) {\r\n      this.$bvToast.toast(content , {\r\n        title: title,\r\n        variant: variant,\r\n        solid: true\r\n      })\r\n    },\r\n  }\r\n}\r\n","import { fetchDocument } from 'tripledoc';\r\nimport { vcard } from 'rdf-namespaces'\r\nimport AffichageMixin from '@/mixins/AffichageMixin.js'\r\nimport  {saveFileInContainer, getSourceUrl } from \"@inrupt/solid-client\";\r\nimport { namedNode } from '@rdfjs/data-model'\r\nconst auth = solid.auth\r\nconst fc = new SolidFileClient(auth)\r\n\r\n\r\nexport default {\r\n  mixins: [AffichageMixin],\r\n  methods: {\r\n    async getGroup(url) {\r\n      let group = {members: [], subgroups: []}\r\n      const groupDoc = await fetchDocument(url);\r\n      let index = groupDoc.findSubject()\r\n      group.name = index.getLiteral(vcard.fn)\r\n      group.members = index.getAllRefs(vcard.hasMember)\r\n      group.purpose = index.getLiteral('http://www.w3.org/ns/org#purpose')\r\n      group.parent = index.getRef(\"http://www.w3.org/ns/org#subOrganizationOf\")\r\n      group.subgroups =  index.getAllRefs(\"http://www.w3.org/ns/org#hasSubOrganization\")\r\n\r\n      let chat_index = groupDoc.findSubject(\"http://www.w3.org/ns/solid/terms#forClass\", \"http://www.w3.org/ns/pim/meeting#LongChat\")\r\n      if (chat_index != null){\r\n        group.chat_instance = chat_index.getRef(\"http://www.w3.org/ns/solid/terms#instance\")\r\n        console.log(\"chat instance\",group.chat_instance)\r\n      }\r\n\r\n      return group\r\n    },\r\n    async getStorage(url){\r\n      let res = this.url.endsWith('#this') ? this.url : this.url+'#this'\r\n      let storage = await solid.data[res].storage\r\n      console.log(storage)\r\n      if (storage == undefined){\r\n        var path = this.url.substring(0,this.url.lastIndexOf(\"/\"))\r\n        let name = await solid.data[res].vcard$fn\r\n\r\n        let ttl_name = `${name}`.trim().replace(/\\s/g, '_')\r\n        console.log(`${name}`, this.url, ttl_name)\r\n        storage = [path, ttl_name, \"\"].join('/')\r\n        console.log(storage)\r\n        await !fc.itemExists(this.storage) ? await fc.createFolder(this.storage) : \"\"\r\n        await solid.data[res]['http://www.w3.org/ns/pim/space#storage'].set(namedNode(storage))\r\n      }\r\n      return storage\r\n    },\r\n    async join(){\r\n      console.log(\"join to create inbox folder with authenticated agent as submitter\")\r\n      let offer = `@prefix :      <#> .\r\n      @prefix as:    <https://www.w3.org/ns/activitystreams#> .\r\n\r\n      :it\r\n      a as:Offer ;\r\n      as:actor <${this.webId}> ;\r\n      as:object :join ;\r\n      as:summary \"${this.webId} asks to join the group\" ;\r\n      as:target <${this.invitation}> .\r\n\r\n      :join\r\n      a as:Join ;\r\n      as:actor <${this.webId}> ;\r\n      as:object <${this.invitation}> ;\r\n      as:summary \"${this.webId} joins group\" .\r\n      `\r\n      try{\r\n        let sentFile = await saveFileInContainer(\r\n          this.inbox,\r\n          new Blob([offer], { type: \"text/turtle\" }),\r\n          //    { slug: \"new-file.ttl\" }\r\n        );\r\n        this.makeToast(\"Join request sent\", \"A request has been sent to group Inbox\", \"success\")\r\n      }catch(e){\r\n        //console.log(e)\r\n        this.makeToast(\"Join request\", \"Can not send a request to the Group Inbox\"+e, \"danger\")\r\n      }\r\n    },\r\n    accept(){\r\n      console.log(\"todo accept\")\r\n      this.makeToast(\"Todo\", \"not implemented yet\")\r\n    },\r\n    invite(){\r\n      console.log(\"todo invite\")\r\n      this.makeToast(\"Todo\", \"not implemented yet\")\r\n    },\r\n    reject(){\r\n      console.log(\"todo reject\")\r\n      this.makeToast(\"Todo\", \"not implemented yet\")\r\n    }\r\n  }\r\n\r\n\r\n}\r\n","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar isArray = require('../internals/is-array');\nvar isObject = require('../internals/is-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar createProperty = require('../internals/create-property');\nvar arraySpeciesCreate = require('../internals/array-species-create');\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar V8_VERSION = require('../internals/engine-v8-version');\n\nvar IS_CONCAT_SPREADABLE = wellKnownSymbol('isConcatSpreadable');\nvar MAX_SAFE_INTEGER = 0x1FFFFFFFFFFFFF;\nvar MAXIMUM_ALLOWED_INDEX_EXCEEDED = 'Maximum allowed index exceeded';\n\n// We can't use this feature detection in V8 since it causes\n// deoptimization and serious performance degradation\n// https://github.com/zloirock/core-js/issues/679\nvar IS_CONCAT_SPREADABLE_SUPPORT = V8_VERSION >= 51 || !fails(function () {\n  var array = [];\n  array[IS_CONCAT_SPREADABLE] = false;\n  return array.concat()[0] !== array;\n});\n\nvar SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('concat');\n\nvar isConcatSpreadable = function (O) {\n  if (!isObject(O)) return false;\n  var spreadable = O[IS_CONCAT_SPREADABLE];\n  return spreadable !== undefined ? !!spreadable : isArray(O);\n};\n\nvar FORCED = !IS_CONCAT_SPREADABLE_SUPPORT || !SPECIES_SUPPORT;\n\n// `Array.prototype.concat` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.concat\n// with adding support of @@isConcatSpreadable and @@species\n$({ target: 'Array', proto: true, forced: FORCED }, {\n  concat: function concat(arg) { // eslint-disable-line no-unused-vars\n    var O = toObject(this);\n    var A = arraySpeciesCreate(O, 0);\n    var n = 0;\n    var i, k, length, len, E;\n    for (i = -1, length = arguments.length; i < length; i++) {\n      E = i === -1 ? O : arguments[i];\n      if (isConcatSpreadable(E)) {\n        len = toLength(E.length);\n        if (n + len > MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        for (k = 0; k < len; k++, n++) if (k in E) createProperty(A, n, E[k]);\n      } else {\n        if (n >= MAX_SAFE_INTEGER) throw TypeError(MAXIMUM_ALLOWED_INDEX_EXCEEDED);\n        createProperty(A, n++, E);\n      }\n    }\n    A.length = n;\n    return A;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar IndexedObject = require('../internals/indexed-object');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar nativeJoin = [].join;\n\nvar ES3_STRINGS = IndexedObject != Object;\nvar STRICT_METHOD = arrayMethodIsStrict('join', ',');\n\n// `Array.prototype.join` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.join\n$({ target: 'Array', proto: true, forced: ES3_STRINGS || !STRICT_METHOD }, {\n  join: function join(separator) {\n    return nativeJoin.call(toIndexedObject(this), separator === undefined ? ',' : separator);\n  }\n});\n"],"sourceRoot":""}