(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6cddbe8a"],{"0a4a":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("b-button",{attrs:{variant:"success"},on:{click:t.join}},[t._v("Ask to join `"+t._s(t.name)+"` group")]),n("b-button",{attrs:{variant:"success"},on:{click:t.accept}},[t._v("Accept invitation")]),n("b-button",{attrs:{variant:"success"},on:{click:t.reject}},[t._v("Reject invitation")]),n("b-button",{attrs:{variant:"success"},on:{click:t.invite}},[t._v("Invite")]),n("b-button",{attrs:{variant:"outline-success"},on:{click:t.newGroup}},[t._v("Create a Group")]),n("SolidLoginButton"),n("GroupCreate",{on:{created:t.initGroups}}),n("b-card-group",{attrs:{deck:""}},[n("b-card",{staticClass:"mb-2 ",staticStyle:{"max-width":"40rem","min-width":"20rem"},attrs:{"img-src":"https://picsum.photos/600/300/?image=25","img-alt":"Image","img-top":"",tag:"article"}},[n("b-card-title",[t._v(t._s(t.name))]),n("b-button",{attrs:{variant:"success"},on:{click:t.join}},[t._v("Ask to join Join")]),n("b-card-text",[n("i",[t._v(t._s(t.purpose))])]),n("b-card-text",[n("b-button",{staticClass:"sm",attrs:{to:"/?invitation="+t.parent,variant:"primary"}},[t._v("Parent")])],1),n("small",[t.created?n("Date",{attrs:{dateIso:t.created}}):t._e(),t.maker?n("UserName",{attrs:{webId:t.maker}}):t._e(),t._v(" "+t._s(t.types)),n("br")],1)],1),n("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"40rem","min-width":"20rem"},attrs:{title:"Sub Groups",tag:"article"}},[n("b-button",{attrs:{href:"#",variant:"outline-success"}},[t._v("Add a subgroup")]),n("b-card-text",[n("b-list-group",t._l(t.subgroups,(function(e,r){return n("b-list-group-item",{key:"g_"+r,attrs:{to:"/?invitation="+e}},[t._v(t._s(e))])})),1)],1)],1),n("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"40rem","min-width":"20rem"},attrs:{title:"Members","img-src":"https://picsum.photos/600/300/?image=25","img-alt":"Image","img-top":"",tag:"article"}},[n("b-card-text",t._l(t.members,(function(t,e){return n("UserName",{key:e,attrs:{webId:t}})})),1)],1),void 0!=t.members&&t.members.includes(t.webId)?n("InboxWidget",{attrs:{inbox:t.inbox}}):t._e(),n("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"40rem","min-width":"20rem"},attrs:{title:"More","img-src":"https://picsum.photos/600/300/?image=25","img-alt":"Image","img-top":"",tag:"article"}},[n("b-card-text",[t._v(" Activités : []"),n("br"),t._v(" Projets: []"),n("br"),t._v(" Competences Skills: []"),n("br"),t._v(" Redevabilités: []"),n("br"),t._v(" Inbox: "+t._s(t.inbox)),n("br")])],1)],1),t._v(" Invitation : "+t._s(this.invitation)+" "),n("hr"),t._v(" "+t._s(t.things)+" "),n("hr"),n("a",{attrs:{href:t.webId,target:"_blank"}},[t._v(t._s(t.webId))])],1)},o=[],a=(n("b0c0"),n("d3b7"),n("96cf"),n("1da1")),i=n("4360"),s=n("93ef"),c=n("d11f"),u=n("4585"),b={store:i["a"],name:"InvitationView",props:["invitation"],mixins:[u["a"]],components:{UserName:function(){return n.e("chunk-2d21ee7d").then(n.bind(null,"d80c"))},Date:function(){return n.e("chunk-2d228c54").then(n.bind(null,"db33"))},GroupCreate:function(){return n.e("chunk-a38793d8").then(n.bind(null,"25b1"))},SolidLoginButton:function(){return n.e("chunk-bb31f2b4").then(n.bind(null,"e9a1"))},InboxWidget:function(){return n.e("chunk-2d0b64c8").then(n.bind(null,"1d21"))}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$store.state.profile,t.webId=t.$store.state.profile.profile.webId,t.updateInvitation();case 3:case"end":return e.stop()}}),e)})))()},data:function(){return{things:void 0,name:void 0,purpose:void 0,subgroups:void 0,members:void 0,inbox:void 0,parent:void 0,created:void 0,maker:void 0,types:void 0}},methods:{newGroup:function(){this.$bvModal.show("new-group-modal")},updateInvitation:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["a"])(t.invitation);case 2:n=e.sent,t.things=Object(s["c"])(n,t.invitation),t.thing=t.things[0],t.name=Object(s["b"])(t.thing,c["e"].fn),t.types=Object(s["d"])(t.thing,c["c"].type),t.purpose=Object(s["b"])(t.thing,"http://www.w3.org/ns/org#purpose"),t.subgroups=Object(s["e"])(t.thing,"http://www.w3.org/ns/org#hasSubOrganization"),t.members=Object(s["e"])(t.thing,c["e"].hasMember),t.inbox=Object(s["d"])(t.thing,"http://www.w3.org/ns/ldp#inbox"),t.parent=Object(s["d"])(t.thing,"http://www.w3.org/ns/org#subOrganizationOf"),t.created=Object(s["b"])(t.thing,c["a"].created),t.maker=Object(s["d"])(t.thing,c["b"].maker);case 14:case"end":return e.stop()}}),e)})))()},initGroups:function(){var t=arguments,e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t.length>0&&void 0!==t[0]?t[0]:e.url,console.log(r),!(null!=e.storage&&e.storage.length>0)){n.next=8;break}return console.log("init groups : ",r),n.next=6,fc.readFolder(r);case 6:e.folder=n.sent,console.log("Folder : ",e.folder);case 8:case"end":return n.stop()}}),n)})))()}},watch:{$route:function(t,e){this.updateInvitation()},webId:function(){console.log("watch webid",this.webId),this.workspace={},this.workspace.pod=this.webId,this.workspace.name="gouvernance",this.workspace.path=this.$store.state.profile.profile.storage+"public/gouvernace/",console.log("WORKSPACE",this.workspace),this.$store.commit("workspaces/setCurrentWorkspace",this.workspace)}},computed:{webId:{get:function(){return this.$store.state.profile.profile.webId},set:function(){}}}},d=b,l=n("2877"),p=Object(l["a"])(d,r,o,!1,null,null,null);e["default"]=p.exports},4585:function(t,e,n){"use strict";n("99af"),n("b0c0"),n("96cf");var r=n("1da1"),o=n("4d8d"),a=n("6dc1"),i={methods:{makeToast:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.$bvToast.toast(e,{title:t,variant:n,solid:!0})}}},s=n("93ef");e["a"]={mixins:[i],methods:{getGroup:function(t){return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,r,i,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={members:[],subgroups:[]},e.next=3,Object(o["b"])(t);case 3:return r=e.sent,i=r.findSubject(),n.name=i.getLiteral(a["f"].fn),n.members=i.getAllRefs(a["f"].hasMember),n.purpose=i.getLiteral("http://www.w3.org/ns/org#purpose"),n.parent=i.getRef("http://www.w3.org/ns/org#subOrganizationOf"),n.subgroups=i.getAllRefs("http://www.w3.org/ns/org#hasSubOrganization"),s=r.findSubject("http://www.w3.org/ns/solid/terms#forClass","http://www.w3.org/ns/pim/meeting#LongChat"),null!=s&&(n.chat_instance=s.getRef("http://www.w3.org/ns/solid/terms#instance"),console.log("chat instance",n.chat_instance)),e.abrupt("return",n);case 13:case"end":return e.stop()}}),e)})))()},join:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("join to create inbox folder with authenticated agent as submitter"),n="@prefix :      <#> .\n      @prefix as:    <https://www.w3.org/ns/activitystreams#> .\n\n      :it\n      a as:Offer ;\n      as:actor <".concat(t.webId,'> ;\n      as:object :join ;\n      as:summary "').concat(t.webId,' asks to join the group" ;\n      as:target <').concat(t.invitation,"> .\n\n      :join\n      a as:Join ;\n      as:actor <").concat(t.webId,"> ;\n      as:object <").concat(t.invitation,'> ;\n      as:summary "').concat(t.webId,' joins group" .\n      '),e.prev=2,e.next=5,Object(s["f"])(t.inbox,new Blob([n],{type:"text/turtle"}));case 5:e.sent,t.makeToast("Join request sent","A request has been sent to group Inbox","success"),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),t.makeToast("Join request","Can not send a request to the Group Inbox"+e.t0,"danger");case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))()},accept:function(){console.log("todo accept"),this.makeToast("Todo","not implemented yet")},invite:function(){console.log("todo invite"),this.makeToast("Todo","not implemented yet")},reject:function(){console.log("todo reject"),this.makeToast("Todo","not implemented yet")}}}},"99af":function(t,e,n){"use strict";var r=n("23e7"),o=n("d039"),a=n("e8b5"),i=n("861d"),s=n("7b0b"),c=n("50c4"),u=n("8418"),b=n("65f0"),d=n("1dde"),l=n("b622"),p=n("2d00"),m=l("isConcatSpreadable"),g=9007199254740991,h="Maximum allowed index exceeded",w=p>=51||!o((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),v=d("concat"),f=function(t){if(!i(t))return!1;var e=t[m];return void 0!==e?!!e:a(t)},k=!w||!v;r({target:"Array",proto:!0,forced:k},{concat:function(t){var e,n,r,o,a,i=s(this),d=b(i,0),l=0;for(e=-1,r=arguments.length;e<r;e++)if(a=-1===e?i:arguments[e],f(a)){if(o=c(a.length),l+o>g)throw TypeError(h);for(n=0;n<o;n++,l++)n in a&&u(d,l,a[n])}else{if(l>=g)throw TypeError(h);u(d,l++,a)}return d.length=l,d}})}}]);
//# sourceMappingURL=chunk-6cddbe8a.0ddc9d4f.js.map