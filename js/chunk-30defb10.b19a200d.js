(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-30defb10"],{"0a4a":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("b-button",{attrs:{variant:"success"},on:{click:t.join}},[t._v("Ask to join `"+t._s(t.name)+"` group")]),n("b-button",{attrs:{variant:"success"},on:{click:t.accept}},[t._v("Accept invitation")]),n("b-button",{attrs:{variant:"success"},on:{click:t.deny}},[t._v("Deny invitation")]),n("b-button",{attrs:{variant:"success"},on:{click:t.invite}},[t._v("Invite")]),n("b-button",{attrs:{variant:"outline-success"},on:{click:t.newGroup}},[t._v("Create a Group")]),n("SolidLoginButton"),n("GroupCreate",{on:{created:t.initGroups}}),n("b-card-group",{attrs:{deck:""}},[n("b-card",{staticClass:"mb-2 ",staticStyle:{"max-width":"20rem"},attrs:{"img-src":"https://picsum.photos/600/300/?image=25","img-alt":"Image","img-top":"",tag:"article"}},[n("b-card-title",[t._v(t._s(t.name))]),n("b-button",{attrs:{variant:"success"},on:{click:t.join}},[t._v("Ask to join Join")]),n("b-card-text",[n("i",[t._v(t._s(t.purpose))])]),n("b-card-text",[n("b-button",{staticClass:"sm",attrs:{to:"/?invitation="+t.parent,variant:"primary"}},[t._v("Parent")])],1),n("small",[t.created?n("Date",{attrs:{dateIso:t.created}}):t._e(),t.maker?n("UserName",{attrs:{webId:t.maker}}):t._e(),t._v(" "+t._s(t.types)),n("br")],1)],1),n("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"20rem"},attrs:{title:"Sub Groups",tag:"article"}},[n("b-button",{attrs:{href:"#",variant:"outline-success"}},[t._v("Add a subgroup")]),n("b-card-text",[n("b-list-group",t._l(t.subgroups,(function(e,r){return n("b-list-group-item",{key:"g_"+r,attrs:{to:"/?invitation="+e}},[t._v(t._s(e))])})),1)],1)],1),n("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"20rem"},attrs:{title:"Members","img-src":"https://picsum.photos/600/300/?image=25","img-alt":"Image","img-top":"",tag:"article"}},[n("b-card-text",t._l(t.members,(function(t,e){return n("UserName",{key:e,attrs:{webId:t}})})),1)],1),n("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"20rem"},attrs:{title:"More","img-src":"https://picsum.photos/600/300/?image=25","img-alt":"Image","img-top":"",tag:"article"}},[n("b-card-text",[t._v(" Activités : []"),n("br"),t._v(" Projets: []"),n("br"),t._v(" Competences Skills: []"),n("br"),t._v(" Redevabilités: []"),n("br"),t._v(" Inbox: "+t._s(t.inbox)),n("br")])],1)],1),t._v(" Invitation : "+t._s(this.invitation)+" "),n("hr"),t._v(" "+t._s(t.things)+" "),n("hr"),n("a",{attrs:{href:t.webId,target:"_blank"}},[t._v(t._s(t.webId))])],1)},a=[],i=(n("99af"),n("b0c0"),n("d3b7"),n("96cf"),n("1da1")),o=n("4360"),s=n("93ef"),c=n("d11f"),u={store:o["a"],name:"InvitationView",props:["invitation"],components:{UserName:function(){return n.e("chunk-2d21ee7d").then(n.bind(null,"d80c"))},Date:function(){return n.e("chunk-2d228c54").then(n.bind(null,"db33"))},GroupCreate:function(){return n.e("chunk-a38793d8").then(n.bind(null,"25b1"))},SolidLoginButton:function(){return n.e("chunk-bb31f2b4").then(n.bind(null,"e9a1"))}},created:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$store.state.profile,t.webId=t.$store.state.profile.profile.webId,t.updateInvitation();case 3:case"end":return e.stop()}}),e)})))()},data:function(){return{things:void 0,name:void 0,purpose:void 0,subgroups:void 0,members:void 0,inbox:void 0,parent:void 0,created:void 0,maker:void 0,types:void 0}},methods:{join:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("join"),n="@prefix :      <#> .\n        @prefix as:    <https://www.w3.org/ns/activitystreams#> .\n\n        :it\n        a as:Offer ;\n        as:actor <".concat(t.webId,'> ;\n        as:object :join ;\n        as:summary "').concat(t.webId,' asks to join the group" ;\n        as:target <').concat(t.invitation,"> .\n\n        :join\n        a as:Join ;\n        as:actor <").concat(t.webId,"> ;\n        as:object <").concat(t.invitation,'> ;\n        as:summary "').concat(t.webId,' joins group" .\n        '),console.log(n),e.next=5,Object(s["g"])(t.inbox,new Blob([n],{type:"text/turtle"}));case 5:r=e.sent,console.log("File saved at ".concat(Object(s["b"])(r)));case 7:case"end":return e.stop()}}),e)})))()},newGroup:function(){this.$bvModal.show("new-group-modal")},updateInvitation:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["a"])(t.invitation);case 2:n=e.sent,t.things=Object(s["d"])(n,t.invitation),t.thing=t.things[0],t.name=Object(s["c"])(t.thing,c["e"].fn),t.types=Object(s["e"])(t.thing,c["c"].type),t.purpose=Object(s["c"])(t.thing,"http://www.w3.org/ns/org#purpose"),t.subgroups=Object(s["f"])(t.thing,"http://www.w3.org/ns/org#hasSubOrganization"),t.members=Object(s["f"])(t.thing,c["e"].hasMember),t.inbox=Object(s["e"])(t.thing,"http://www.w3.org/ns/ldp#inbox"),t.parent=Object(s["e"])(t.thing,"http://www.w3.org/ns/org#subOrganizationOf"),t.created=Object(s["c"])(t.thing,c["a"].created),t.maker=Object(s["e"])(t.thing,c["b"].maker);case 14:case"end":return e.stop()}}),e)})))()},initGroups:function(){var t=arguments,e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(r=t.length>0&&void 0!==t[0]?t[0]:e.url,console.log(r),!(null!=e.storage&&e.storage.length>0)){n.next=8;break}return console.log("init groups : ",r),n.next=6,fc.readFolder(r);case 6:e.folder=n.sent,console.log("Folder : ",e.folder);case 8:case"end":return n.stop()}}),n)})))()}},watch:{$route:function(t,e){this.updateInvitation()},webId:function(){console.log("watch webid",this.webId),this.workspace={},this.workspace.pod=this.webId,this.workspace.name="gouvernance",this.workspace.path=this.$store.state.profile.profile.storage+"public/gouvernace/",console.log("WORKSPACE",this.workspace),this.$store.commit("workspaces/setCurrentWorkspace",this.workspace)}},computed:{webId:{get:function(){return this.$store.state.profile.profile.webId},set:function(){}}}},b=u,d=n("2877"),l=Object(d["a"])(b,r,a,!1,null,null,null);e["default"]=l.exports},"99af":function(t,e,n){"use strict";var r=n("23e7"),a=n("d039"),i=n("e8b5"),o=n("861d"),s=n("7b0b"),c=n("50c4"),u=n("8418"),b=n("65f0"),d=n("1dde"),l=n("b622"),p=n("2d00"),g=l("isConcatSpreadable"),h=9007199254740991,m="Maximum allowed index exceeded",v=p>=51||!a((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),w=d("concat"),f=function(t){if(!o(t))return!1;var e=t[g];return void 0!==e?!!e:i(t)},k=!v||!w;r({target:"Array",proto:!0,forced:k},{concat:function(t){var e,n,r,a,i,o=s(this),d=b(o,0),l=0;for(e=-1,r=arguments.length;e<r;e++)if(i=-1===e?o:arguments[e],f(i)){if(a=c(i.length),l+a>h)throw TypeError(m);for(n=0;n<a;n++,l++)n in i&&u(d,l,i[n])}else{if(l>=h)throw TypeError(m);u(d,l++,i)}return d.length=l,d}})}}]);
//# sourceMappingURL=chunk-30defb10.b19a200d.js.map