{"version":3,"sources":["webpack:///./src/components/inbox/InboxSummaryLine.vue?0876","webpack:///src/components/inbox/InboxSummaryLine.vue","webpack:///./src/components/inbox/InboxSummaryLine.vue?b279","webpack:///./src/components/inbox/InboxSummaryLine.vue","webpack:///./src/mixins/ConverterMixin.js","webpack:///./node_modules/core-js/modules/es.array.last-index-of.js","webpack:///./node_modules/core-js/modules/es.array.index-of.js","webpack:///./node_modules/core-js/internals/array-last-index-of.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","type","attrs","actor","_e","summary","staticRenderFns","store","name","props","mixins","ConverterMixin","components","data","object","methods","watch","webId","console","log","computed","get","set","component","localname","uri","ln","undefined","lastIndexOf","substr","length","onlyUnique","value","index","self","indexOf","$","target","proto","forced","$indexOf","arrayMethodIsStrict","arrayMethodUsesToLength","nativeIndexOf","NEGATIVE_ZERO","STRICT_METHOD","USES_TO_LENGTH","ACCESSORS","1","searchElement","apply","arguments","toIndexedObject","toInteger","toLength","min","Math","nativeLastIndexOf","FORCED","module","exports","O"],"mappings":"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","file":"js/chunk-1b27e202.08d995df.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"webid\"},[_c('b-badge',[_vm._v(_vm._s(_vm.type))]),_c('b-badge',{attrs:{\"variant\":\"light\"}},[_c('UserName',{attrs:{\"webId\":_vm.actor}})],1),(_vm.type == 'Offer')?_c('span',[_c('b-badge',{attrs:{\"variant\":\"success\"}},[_vm._v(\"accept\")]),_c('b-badge',{attrs:{\"variant\":\"danger\"}},[_vm._v(\"reject\")])],1):_vm._e(),_c('br'),_vm._v(\" \"+_vm._s(_vm.summary)+\" \")],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"webid\">\r\n    <b-badge>{{type}}</b-badge>\r\n    <b-badge variant=\"light\"><UserName :webId=\"actor\" /></b-badge>\r\n    <span v-if=\"type == 'Offer'\">\r\n      <b-badge variant=\"success\">accept</b-badge>\r\n      <b-badge variant=\"danger\">reject</b-badge>\r\n    </span>\r\n    <br>\r\n    {{ summary }}\r\n    <!-- <b-badge variant=\"dark\">{{object}}</b-badge> -->\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport store from '@/store'\r\nimport { fetchDocument } from 'tripledoc';\r\nimport { rdf } from 'rdf-namespaces'\r\nimport ConverterMixin from '@/mixins/ConverterMixin.js'\r\n\r\n\r\nexport default {\r\n  store,\r\n  name: 'InboxSummaryLine',\r\n  props: ['url'],\r\n  mixins: [ConverterMixin],\r\n  components:{\r\n    'UserName': () => import('@/components/basic/UserName'),\r\n  },\r\n  async created(){\r\n    this.webId = this.$store.state.profile.profile.webId\r\n    this.update()\r\n  },\r\n  data: function(){\r\n    return {\r\n      summary: \"\",\r\n      type: \"\",\r\n      actor: \"\",\r\n      object: \"\"\r\n    }\r\n  },\r\n  methods: {\r\n    async update(){\r\n      // const dataset = await getSolidDataset(this.url);\r\n      // this.thing = getThing(dataset, this.url+\"#it\");\r\n      // console.log(this.thing)\r\n      // this.summary = getStringNoLocale(this.thing, AS.summary);\r\n      // console.log(this.summary)\r\n      const messageDoc = await fetchDocument(this.url);\r\n      let  subject = messageDoc.getSubject(this.url+\"#it\");\r\n      this.summary = subject.getString('https://www.w3.org/ns/activitystreams#summary')\r\n      this.actor = subject.getRef('https://www.w3.org/ns/activitystreams#actor')\r\n      this.object = subject.getRef('https://www.w3.org/ns/activitystreams#object')\r\n      this.type = this.localname(subject.getRef(rdf.type))\r\n      // this.sender =   subject.getRef(schema.sender)\r\n      // this.label =   subject.getString(rdfs.label)\r\n      // this.dateSent =  subject.getLiteral(schema.dateSent)\r\n      // this.text =  subject.getString(schema.text)\r\n    }\r\n  },\r\n  watch:{\r\n    webId(){\r\n      console.log(\"watch webid\", this.webId)\r\n    }\r\n  },\r\n  computed:{\r\n    webId:{\r\n      get: function() { return this.$store.state.profile.profile.webId},\r\n      set: function() {}\r\n    },\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InboxSummaryLine.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InboxSummaryLine.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./InboxSummaryLine.vue?vue&type=template&id=4446f904&\"\nimport script from \"./InboxSummaryLine.vue?vue&type=script&lang=js&\"\nexport * from \"./InboxSummaryLine.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\r\n  methods: {\r\n    localname(uri){\r\n      var ln = uri;\r\n      if(uri!= undefined){\r\n        if ( uri.lastIndexOf(\"#\") != -1) { ln = uri.substr(uri.lastIndexOf(\"#\")).substr(1)}\r\n        else{ ln = uri.substr(uri.lastIndexOf(\"/\")).substr(1) }\r\n        ln = ln.length == 0 ? uri : ln\r\n      }\r\n      return ln\r\n    },\r\n    onlyUnique(value, index, self) {\r\n      return self.indexOf(value) === index;\r\n    }\r\n  }\r\n}\r\n","var $ = require('../internals/export');\nvar lastIndexOf = require('../internals/array-last-index-of');\n\n// `Array.prototype.lastIndexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\n$({ target: 'Array', proto: true, forced: lastIndexOf !== [].lastIndexOf }, {\n  lastIndexOf: lastIndexOf\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $indexOf = require('../internals/array-includes').indexOf;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar nativeIndexOf = [].indexOf;\n\nvar NEGATIVE_ZERO = !!nativeIndexOf && 1 / [1].indexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('indexOf');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.indexOf` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.indexof\n$({ target: 'Array', proto: true, forced: NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH }, {\n  indexOf: function indexOf(searchElement /* , fromIndex = 0 */) {\n    return NEGATIVE_ZERO\n      // convert -0 to +0\n      ? nativeIndexOf.apply(this, arguments) || 0\n      : $indexOf(this, searchElement, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","'use strict';\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar toInteger = require('../internals/to-integer');\nvar toLength = require('../internals/to-length');\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar min = Math.min;\nvar nativeLastIndexOf = [].lastIndexOf;\nvar NEGATIVE_ZERO = !!nativeLastIndexOf && 1 / [1].lastIndexOf(1, -0) < 0;\nvar STRICT_METHOD = arrayMethodIsStrict('lastIndexOf');\n// For preventing possible almost infinite loop in non-standard implementations, test the forward version of the method\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\nvar FORCED = NEGATIVE_ZERO || !STRICT_METHOD || !USES_TO_LENGTH;\n\n// `Array.prototype.lastIndexOf` method implementation\n// https://tc39.github.io/ecma262/#sec-array.prototype.lastindexof\nmodule.exports = FORCED ? function lastIndexOf(searchElement /* , fromIndex = @[*-1] */) {\n  // convert -0 to +0\n  if (NEGATIVE_ZERO) return nativeLastIndexOf.apply(this, arguments) || 0;\n  var O = toIndexedObject(this);\n  var length = toLength(O.length);\n  var index = length - 1;\n  if (arguments.length > 1) index = min(index, toInteger(arguments[1]));\n  if (index < 0) index = length + index;\n  for (;index >= 0; index--) if (index in O && O[index] === searchElement) return index || 0;\n  return -1;\n} : nativeLastIndexOf;\n"],"sourceRoot":""}